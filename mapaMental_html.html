<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
.markmap-dark {
  background: #27272a;
  color: white;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
              if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                document.documentElement.classList.add("markmap-dark");
              }
            })(() => window.markmap,null,{"content":"&#x1f9e0; Mapa Mental &#x2014; Comandos e Fun&#xe7;&#xf5;es do MySQL","children":[{"content":"1&#xfe0f;&#x20e3; TRANSA&#xc7;&#xd5;ES","children":[{"content":"BEGIN / START TRANSACTION","children":[{"content":"Inicia uma transa&#xe7;&#xe3;o (modo seguro de execu&#xe7;&#xe3;o)","children":[],"payload":{"tag":"li","lines":"4,5"}},{"content":"&#x1f4bb; <code>START TRANSACTION;</code>","children":[],"payload":{"tag":"li","lines":"5,6"}}],"payload":{"tag":"li","lines":"3,6"}},{"content":"COMMIT","children":[{"content":"Confirma todas as opera&#xe7;&#xf5;es da transa&#xe7;&#xe3;o","children":[],"payload":{"tag":"li","lines":"7,8"}},{"content":"&#x1f4bb; <code>COMMIT;</code>","children":[],"payload":{"tag":"li","lines":"8,9"}}],"payload":{"tag":"li","lines":"6,9"}},{"content":"ROLLBACK","children":[{"content":"Desfaz altera&#xe7;&#xf5;es n&#xe3;o confirmadas","children":[],"payload":{"tag":"li","lines":"10,11"}},{"content":"&#x1f4bb; <code>ROLLBACK;</code>","children":[],"payload":{"tag":"li","lines":"11,12"}}],"payload":{"tag":"li","lines":"9,12"}},{"content":"SAVEPOINT nome","children":[{"content":"Cria um ponto de restaura&#xe7;&#xe3;o intermedi&#xe1;rio","children":[],"payload":{"tag":"li","lines":"13,14"}},{"content":"&#x1f4bb; <code>SAVEPOINT etapa1;</code>","children":[],"payload":{"tag":"li","lines":"14,15"}}],"payload":{"tag":"li","lines":"12,15"}},{"content":"ROLLBACK TO nome","children":[{"content":"Retorna at&#xe9; um ponto espec&#xed;fico","children":[],"payload":{"tag":"li","lines":"16,17"}},{"content":"&#x1f4bb; <code>ROLLBACK TO etapa1;</code>","children":[],"payload":{"tag":"li","lines":"17,18"}}],"payload":{"tag":"li","lines":"15,18"}},{"content":"SET TRANSACTION ISOLATION LEVEL","children":[{"content":"Define o n&#xed;vel de isolamento (controle de concorr&#xea;ncia)","children":[],"payload":{"tag":"li","lines":"19,20"}},{"content":"&#x1f4bb; <code>SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;</code>","children":[],"payload":{"tag":"li","lines":"20,22"}}],"payload":{"tag":"li","lines":"18,22"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"2&#xfe0f;&#x20e3; VIS&#xd5;ES (VIEWS)","children":[{"content":"CREATE VIEW","children":[{"content":"Cria uma tabela virtual com base em uma consulta","children":[],"payload":{"tag":"li","lines":"26,27"}},{"content":"&#x1f4bb; <code>CREATE VIEW vw_vendas AS SELECT cliente, SUM(total) AS total FROM vendas GROUP BY cliente;</code>","children":[],"payload":{"tag":"li","lines":"27,28"}}],"payload":{"tag":"li","lines":"25,28"}},{"content":"SELECT * FROM view","children":[{"content":"Consulta a vis&#xe3;o","children":[],"payload":{"tag":"li","lines":"29,30"}},{"content":"&#x1f4bb; <code>SELECT * FROM vw_vendas;</code>","children":[],"payload":{"tag":"li","lines":"30,31"}}],"payload":{"tag":"li","lines":"28,31"}},{"content":"ALTER VIEW","children":[{"content":"Modifica uma vis&#xe3;o existente","children":[],"payload":{"tag":"li","lines":"32,33"}},{"content":"&#x1f4bb; <code>ALTER VIEW vw_vendas AS SELECT cliente, COUNT(*) AS qtd FROM vendas GROUP BY cliente;</code>","children":[],"payload":{"tag":"li","lines":"33,34"}}],"payload":{"tag":"li","lines":"31,34"}},{"content":"DROP VIEW","children":[{"content":"Remove uma vis&#xe3;o","children":[],"payload":{"tag":"li","lines":"35,36"}},{"content":"&#x1f4bb; <code>DROP VIEW vw_vendas;</code>","children":[],"payload":{"tag":"li","lines":"36,38"}}],"payload":{"tag":"li","lines":"34,38"}}],"payload":{"tag":"h2","lines":"24,25"}},{"content":"3&#xfe0f;&#x20e3; GATILHOS (TRIGGERS)","children":[{"content":"CREATE TRIGGER nome_timing_event","children":[{"content":"Cria uma a&#xe7;&#xe3;o autom&#xe1;tica que ocorre antes ou depois de um evento","children":[],"payload":{"tag":"li","lines":"42,43"}},{"content":"&#x1f4bb;<pre data-lines=\"44,50\"><code class=\"language-sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TRIGGER</span> log_vendas\nAFTER <span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">ON</span> vendas\n<span class=\"hljs-keyword\">FOR</span> <span class=\"hljs-keyword\">EACH</span> <span class=\"hljs-type\">ROW</span>\n<span class=\"hljs-keyword\">INSERT INTO</span> logs(acao, data) <span class=\"hljs-keyword\">VALUES</span> (<span class=\"hljs-string\">&apos;Nova venda&apos;</span>, NOW());\n</code></pre>","children":[],"payload":{"tag":"li","lines":"43,50"}}],"payload":{"tag":"li","lines":"41,50"}},{"content":"BEFORE INSERT / UPDATE / DELETE","children":[{"content":"Executa antes da a&#xe7;&#xe3;o ocorrer","children":[],"payload":{"tag":"li","lines":"51,52"}},{"content":"&#x1f4bb;<pre data-lines=\"53,59\"><code class=\"language-sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TRIGGER</span> validar_preco\nBEFORE <span class=\"hljs-keyword\">INSERT</span> <span class=\"hljs-keyword\">ON</span> produtos\n<span class=\"hljs-keyword\">FOR</span> <span class=\"hljs-keyword\">EACH</span> <span class=\"hljs-type\">ROW</span>\nIF NEW.preco <span class=\"hljs-operator\">&lt;</span> <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">THEN</span> <span class=\"hljs-keyword\">SET</span> NEW.preco <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; <span class=\"hljs-keyword\">END</span> IF;\n</code></pre>","children":[],"payload":{"tag":"li","lines":"52,59"}}],"payload":{"tag":"li","lines":"50,59"}},{"content":"AFTER INSERT / UPDATE / DELETE","children":[{"content":"Executa ap&#xf3;s o evento ocorrer","children":[],"payload":{"tag":"li","lines":"60,61"}},{"content":"&#x1f4bb;<pre data-lines=\"62,68\"><code class=\"language-sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TRIGGER</span> atualizar_log\nAFTER <span class=\"hljs-keyword\">UPDATE</span> <span class=\"hljs-keyword\">ON</span> clientes\n<span class=\"hljs-keyword\">FOR</span> <span class=\"hljs-keyword\">EACH</span> <span class=\"hljs-type\">ROW</span>\n<span class=\"hljs-keyword\">INSERT INTO</span> log_acoes <span class=\"hljs-keyword\">VALUES</span> (NOW(), <span class=\"hljs-string\">&apos;Atualiza&#xe7;&#xe3;o de cliente&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"li","lines":"61,68"}}],"payload":{"tag":"li","lines":"59,68"}},{"content":"DROP TRIGGER nome","children":[{"content":"Remove um gatilho","children":[],"payload":{"tag":"li","lines":"69,70"}},{"content":"&#x1f4bb; <code>DROP TRIGGER atualizar_log;</code>","children":[],"payload":{"tag":"li","lines":"70,72"}}],"payload":{"tag":"li","lines":"68,72"}}],"payload":{"tag":"h2","lines":"40,41"}},{"content":"4&#xfe0f;&#x20e3; PROCEDURES (PROCEDIMENTOS)","children":[{"content":"CREATE PROCEDURE nome()","children":[{"content":"Cria um bloco de comandos armazenado no servidor","children":[],"payload":{"tag":"li","lines":"76,77"}},{"content":"&#x1f4bb;<pre data-lines=\"78,86\"><code class=\"language-sql\">DELIMITER <span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>\n<span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">PROCEDURE</span> listar_clientes()\n<span class=\"hljs-keyword\">BEGIN</span>\n  <span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> clientes;\n<span class=\"hljs-keyword\">END</span> <span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>\nDELIMITER ;\n</code></pre>","children":[],"payload":{"tag":"li","lines":"77,86"}}],"payload":{"tag":"li","lines":"75,86"}},{"content":"CALL nome()","children":[{"content":"Executa uma procedure","children":[],"payload":{"tag":"li","lines":"87,88"}},{"content":"&#x1f4bb; <code>CALL listar_clientes();</code>","children":[],"payload":{"tag":"li","lines":"88,89"}}],"payload":{"tag":"li","lines":"86,89"}},{"content":"CREATE PROCEDURE nome(param)","children":[{"content":"Cria procedure com par&#xe2;metros de entrada","children":[],"payload":{"tag":"li","lines":"90,91"}},{"content":"&#x1f4bb;<pre data-lines=\"92,100\"><code class=\"language-sql\">DELIMITER <span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>\n<span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">PROCEDURE</span> buscar_cliente(<span class=\"hljs-keyword\">IN</span> id_cliente <span class=\"hljs-type\">INT</span>)\n<span class=\"hljs-keyword\">BEGIN</span>\n  <span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> clientes <span class=\"hljs-keyword\">WHERE</span> id <span class=\"hljs-operator\">=</span> id_cliente;\n<span class=\"hljs-keyword\">END</span> <span class=\"hljs-operator\">/</span><span class=\"hljs-operator\">/</span>\nDELIMITER ;\n</code></pre>","children":[],"payload":{"tag":"li","lines":"91,100"}}],"payload":{"tag":"li","lines":"89,100"}},{"content":"OUT / INOUT","children":[{"content":"Define par&#xe2;metros de sa&#xed;da e bidirecionais","children":[],"payload":{"tag":"li","lines":"101,102"}},{"content":"&#x1f4bb;<pre data-lines=\"103,109\"><code class=\"language-sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">PROCEDURE</span> somar(<span class=\"hljs-keyword\">IN</span> a <span class=\"hljs-type\">INT</span>, <span class=\"hljs-keyword\">IN</span> b <span class=\"hljs-type\">INT</span>, <span class=\"hljs-keyword\">OUT</span> resultado <span class=\"hljs-type\">INT</span>)\n<span class=\"hljs-keyword\">BEGIN</span>\n  <span class=\"hljs-keyword\">SET</span> resultado <span class=\"hljs-operator\">=</span> a <span class=\"hljs-operator\">+</span> b;\n<span class=\"hljs-keyword\">END</span>;\n</code></pre>","children":[],"payload":{"tag":"li","lines":"102,109"}}],"payload":{"tag":"li","lines":"100,109"}},{"content":"DROP PROCEDURE nome","children":[{"content":"Remove uma procedure","children":[],"payload":{"tag":"li","lines":"110,111"}},{"content":"&#x1f4bb; <code>DROP PROCEDURE listar_clientes;</code>","children":[],"payload":{"tag":"li","lines":"111,113"}}],"payload":{"tag":"li","lines":"109,113"}}],"payload":{"tag":"h2","lines":"74,75"}},{"content":"5&#xfe0f;&#x20e3; &#xcd;NDICES (INDEXA&#xc7;&#xc3;O)","children":[{"content":"CREATE INDEX","children":[{"content":"Cria um &#xed;ndice para acelerar consultas","children":[],"payload":{"tag":"li","lines":"117,118"}},{"content":"&#x1f4bb; <code>CREATE INDEX idx_nome ON clientes(nome);</code>","children":[],"payload":{"tag":"li","lines":"118,119"}}],"payload":{"tag":"li","lines":"116,119"}},{"content":"CREATE UNIQUE INDEX","children":[{"content":"Cria &#xed;ndice que impede duplica&#xe7;&#xf5;es","children":[],"payload":{"tag":"li","lines":"120,121"}},{"content":"&#x1f4bb; <code>CREATE UNIQUE INDEX idx_cpf ON clientes(cpf);</code>","children":[],"payload":{"tag":"li","lines":"121,122"}}],"payload":{"tag":"li","lines":"119,122"}},{"content":"CREATE INDEX nome ON tabela (col1, col2)","children":[{"content":"&#xcd;ndice composto para m&#xfa;ltiplas colunas","children":[],"payload":{"tag":"li","lines":"123,124"}},{"content":"&#x1f4bb; <code>CREATE INDEX idx_nome_cidade ON clientes(nome, cidade);</code>","children":[],"payload":{"tag":"li","lines":"124,125"}}],"payload":{"tag":"li","lines":"122,125"}},{"content":"SHOW INDEX FROM tabela","children":[{"content":"Lista os &#xed;ndices existentes","children":[],"payload":{"tag":"li","lines":"126,127"}},{"content":"&#x1f4bb; <code>SHOW INDEX FROM clientes;</code>","children":[],"payload":{"tag":"li","lines":"127,128"}}],"payload":{"tag":"li","lines":"125,128"}},{"content":"DROP INDEX nome ON tabela","children":[{"content":"Remove um &#xed;ndice","children":[],"payload":{"tag":"li","lines":"129,130"}},{"content":"&#x1f4bb; <code>DROP INDEX idx_nome ON clientes;</code>","children":[],"payload":{"tag":"li","lines":"130,131"}}],"payload":{"tag":"li","lines":"128,131"}}],"payload":{"tag":"h2","lines":"115,116"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
